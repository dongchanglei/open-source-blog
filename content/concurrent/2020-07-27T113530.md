---
desc: 由 genpost (https://github.com/hidevopsio/genpost) 代码生成器生成
title: JMM JAVA内存模型
date: 2020-07-27T11:35:30+08:00
author: 箜箜如也
draft: false
tags:
- JMM JAVA内存模型
---

## 不理解JAVA内存模型就无法深入了解JAVA的并发操作

### 几个概念需要阐述

**JAVA运行时数据区域**

**JAVA内存模型**

主要目的是定义程序中变量的访问规则，关注在虚拟机中把变量值存储到内存中和从内存中取出变量值的底层细节。也是Java虚拟机为了Java程序能正常运行而制定的一套规范，规定了JVM的数据如何与RAM的数据进行交互。
内存模型还规定了所有的变量都存储在主内存中；每个线程都有自己的工作内存，线程的工作内存中保存了被该线程使用的变量的**主内存副本**，线程对变量的所有操作都必须在工作内存中，线程之间的工作内存是无法直接访问的，**线程之间变量值的操作都是由主内存完成的**。

此处的**变量**是实例字段、静态字段和构成数组对象的元素。

此处的**工作内存**是指CPU的寄存器和高速缓存的抽象描述。

线程、主内存、工作内存的关系如下图所示：

<img src="https://dongchanglei.top/images/concurrent-01.png"/>

**注意：JAVA运行时数据区域与JAVA内存模型是不同层次对内存的划分！**

